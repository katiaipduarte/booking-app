(this["webpackJsonpbooking-app"]=this["webpackJsonpbooking-app"]||[]).push([[0],{151:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n(18),o=n.n(r),i=n(43),s=n(54),d=n(220),j=n(111),u=n(49),b=n(8),l=n.n(b),p="@@APPOINTMENTS/INIT",O="@@APPOINTMENTS/UDPATE",m="@@APPOINTMENTS/NEW_DATE",h={currentDate:l()(new Date).format("YYYY-MM-DD"),appointments:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{appointments:t.payload});case O:var n=e.appointments.map((function(e){return{mentor:e.mentor,calendar:[].concat(Object(s.a)(e.calendar),[t.payload])}}));return Object(u.a)(Object(u.a)({},e),{},{appointments:n});case m:return Object(u.a)(Object(u.a)({},e),{},{currentDate:l()(t.payload).format("YYYY-MM-DD")});default:return Object(u.a)({},e)}},f=Object(d.b)({appointmentsState:x}),v=Object(d.c)(f,(a=[j.a],d.a.apply(void 0,Object(s.a)(a))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(151);var g,y=n(88),D=n.n(y),k=n(112),w=n(51),S=n(211),T=n(221),E=n(213),M=n(128),N=(n(153),n(75)),A=function(e){var t={mentor:e.mentor,calendar:e.calendar.map((function(e){return{endDate:l()(e.date_time).add(1,"hours"),startDate:l()(e.date_time),title:"Booked"}}))};return Object(N.action)(p,[t])},I=n(14),Y=function(e){var t=e.mentor,n=Object(c.useState)(new Date),a=Object(w.a)(n,2),r=a[0],o=a[1],s=Object(i.b)();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"Appointments for ".concat(t)}),Object(I.jsx)(M.a,{value:r,onChange:function(e){var t;o(e),s((t=e,Object(N.action)(m,t)))}})]})},C=n(113),F=n(114),P=Object(F.a)(g||(g=Object(C.a)(["\n    body {\n        font-family: 'Roboto',-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n        min-width: 360px;\n        min-height: 660px;\n        padding: 25px;\n\n\n        #root {\n            min-width: 360px;\n            min-height: 641px;\n        }\n\n        .MuiFormControlLabel-root {\n            display: none;\n        }\n\n        .MuiFilledInput-adornedEnd {\n            pointer-events: none;\n        }\n\n        .MuiIconButton-root:nth-child(2) {\n            display: none;\n        }\n    }\n"]))),B=n(161),H=n(52),U=n(20),W=n(214),_=n(215),G=n(217),J=n(216),R=n(212),L=function(){var e=Object(i.c)((function(e){return e.appointmentsState})),t=Object(c.useState)([]),n=Object(w.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),d=Object(w.a)(o,2),j=d[0],u=d[1],b=Object(i.b)();Object(c.useEffect)((function(){e.appointments.length>0&&r(e.appointments[0].calendar)}),[e.appointments]);var l=function(e){var t,n=!1;0!==a.length&&(n=a.some((function(t){return e.added.startDate<=t.endDate&&e.added.endDate>=t.startDate}))),n?u(!0):(u(!1),r([].concat(Object(s.a)(a),[e.added])),b((t=e.added,Object(N.action)(O,t))))},p=function(){u(!1)};return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(B.a,{children:[Object(I.jsxs)(W.a,{open:j,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(_.a,{children:Object(I.jsx)(G.a,{id:"alert-dialog-description",children:"Time slot already allocated. Choose another one. Thank you."})}),Object(I.jsx)(J.a,{children:Object(I.jsx)(R.a,{onClick:p,color:"primary",autoFocus:!0,children:"Okay"})})]}),Object(I.jsxs)(H.f,{data:a,children:[Object(I.jsx)(U.s,{currentDate:e.currentDate}),Object(I.jsx)(U.k,{onCommitChanges:function(e){return l(e)},editingAppointment:void 0}),Object(I.jsx)(U.m,{}),Object(I.jsx)(H.e,{startDayHour:0,endDayHour:24,cellDuration:60}),Object(I.jsx)(H.d,{}),Object(I.jsx)(H.c,{}),Object(I.jsx)(H.b,{}),Object(I.jsx)(H.a,{})]})]})})},$=Object(S.a)((function(e){return Object(T.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),q=function(){var e=$(),t=Object(i.b)(),n=Object(c.useState)(""),a=Object(w.a)(n,2),r=a[0],o=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://private-37dacc-cfcalendar.apiary-mock.com/mentors/1/agenda"),{method:"GET"}).then((function(e){return(t=e).ok?t.json():404===t.status?"Resource Not found":"An unexpected error has occurred";var t})).then((function(e){o(e.mentor.name),t(A(e))}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsxs)(E.a,{container:!0,spacing:4,children:[Object(I.jsx)(E.a,{item:!0,xs:12,md:2,children:Object(I.jsx)(Y,{mentor:r})}),Object(I.jsx)(E.a,{item:!0,xs:12,md:10,children:Object(I.jsx)(L,{})})]}),Object(I.jsx)(P,{})]})},z=n(127);var K=n(219),Q=n(129),V=n(218),X=Object(Q.a)({palette:{type:"dark"}});o.a.render(Object(I.jsx)(i.a,{store:v,children:Object(I.jsxs)(V.a,{theme:X,children:[Object(I.jsx)(K.a,{}),Object(I.jsx)(q,{})]})}),document.getElementById("root")),z.a.add(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.ccbe8e2e.chunk.js.map